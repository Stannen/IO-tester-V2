<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Schematic Page â€” IO Tester</title>
  <!-- Koppel externe styles en scripts -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/schematic_page.css') }}">
  <script src="{{ url_for('static', filename='js/schematic_page.js') }}"></script>
</head>


<body class="bg-schematic">
  <header class="page-header">
    <h1>Schematic Page</h1>
  </header>


  <main class="content-wrap">
    <!-- Toolbar met knoppen -->
    <nav class="toolbar" aria-label="Schematic actions">
      <button id="btn-link" class="btn primary" type="button" onclick="window.location.href='{{ url_for('link') }}'">Link</button>
      <button id="btn-commit" class="btn success" type="button" onclick="window.location.href='{{ url_for('progression', name='save') }}'">Save progression</button>

      <button id="zoom+" class="btn" type="button" onclick="window.location.href='{{ url_for('zoom', ratio=0.1) }}'">Zoom +</button>
      <button id="zoom-" class="btn" type="button" onclick="window.location.href='{{ url_for('zoom', ratio=-0.1) }}'">Zoom -</button>


      <label for="kast-type" class="control-label">Kast type</label-->
        <select id="kast-type" name="kast_type" onchange="window.location.href='{{ url_for('list_picker', name='kast') }}?value=' + this.value">                                     <!--id="kast-type"  onchange="window.location.href='{{ url_for('list_picker', name='kast') }}'"-->
          <option value="{{ curr_kast }}">{{ curr_kast }}</option>
          {% for kt in kast_list %}
              <option value="{{ kt }}">{{ kt|capitalize }}</option>
          {% endfor %}
        </select>

      <label for="pagina-nr" class="control-label">Pagina nr</label>
        <select id="pagina-nr" name="pagina-nr" onchange="window.location.href='{{ url_for('list_picker', name='page') }}?value=' + this.value">
          <option value="{{ curr_page }}">{{ curr_page }}</option>
          {% for kt in page_list %}
              <option value="{{ kt }}">{{ kt|capitalize }}</option>
          {% endfor %}
        </select>
    </nav>

    {% if next_button %}
      <button id="next" class="btn" type="button" onclick="window.location.href='{{ url_for('page_correction', correction=1) }}'">Next page</button>
    {% endif %}

    {% if prev_button %}
      <button id="prev" class="btn" type="button" onclick="window.location.href='{{ url_for('page_correction', correction=-1) }}'">Previous page</button>
    {% endif %}

    <div class="spacer"></div>


    <!-- Canvas / schematic placeholder -->
    <section class="schematic-stage" aria-label="Schematic weergave" style="width: {{page_X_pixels}}px; height: {{page_Y_pixels}}px;">

      <!-- Achtergrond -->
      <img src="{{ url_for ('schematic_images', filename=curr_background) }}" alt="Schematic achtergrond" class="background">  <!--style="width: {{page_X_pixels}}px; height: {{page_Y_pixels}}px;"-->>

      <div class="canvas"> <!--style="width: {{page_X_pixels}}px; height: {{page_Y_pixels}}px;"-->>
        <!-- Buttons -->
        {% for btn in button_elements %}
          <button
            style="position:absolute; left:{{ btn.x }}px; top:{{ btn.y }}px;"
            onclick="window.location.href='{{ url_for('dynamic_button', name=btn.param) }}'">
            {{ btn.label }}
          </button>
        {% endfor %}

        <!-- Lamps -->
        {% for lamp in lamp_elements %}
          <div
            id="{{ lamp.id }}"
            style="position:absolute; left:{{ lamp.x }}px; top:{{ lamp.y }}px;
                  width:40px; height:40px; border-radius:50%;
                  background-color:{{ lamp.color }};">
            {{ lamp.label }}
          </div>
        {% endfor %}

        <!-- Texts -->
        {% for txt in text_elements %}
          <p id="{{ txt.id }}" style="position:absolute; left:{{ txt.x }}px; top:{{ txt.y }}px;">
            {{ txt.label }}
          </p>
        {% endfor %}

        <!-- Inputs -->
        {% for inp in input_elements %}
          <form action="{{ url_for('dynamic_input', name=inp.name) }}" method="post"
                style="position:absolute; left:{{ inp.x }}px; top:{{ inp.y }}px;">
            <input type="text" name="{{ inp.name }}" placeholder="{{ inp.label }}">
          </form>
        {% endfor %}
      </div>

    </section>
  </main>

  
  <footer class="page-footer">
    <small>&copy; 2025 IO Tester</small>
  </footer>
</body>
</html>
